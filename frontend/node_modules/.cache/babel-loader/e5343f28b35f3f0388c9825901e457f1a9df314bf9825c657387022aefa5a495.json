{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport http from \"@/api/http\";\nexport default {\n  name: \"AppNavbar\",\n  data() {\n    return {\n      loading: false\n    };\n  },\n  computed: {\n    username() {\n      return sessionStorage.getItem(\"username\") || \"\";\n    }\n  },\n  methods: {\n    async logout() {\n      this.loading = true;\n      try {\n        await http.post(\"/auth/logout\");\n      } catch (e) {} finally {\n        sessionStorage.removeItem(\"access_token\");\n        sessionStorage.removeItem(\"username\");\n        this.loading = false;\n        this.$router.push(\"/login\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["http","name","data","loading","computed","username","sessionStorage","getItem","methods","logout","post","e","removeItem","$router","push"],"sources":["C:\\Users\\pedvi\\Documents\\catalogo-web\\frontend\\src\\components\\AppNavbar.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    <div class=\"container-fluid\">\n      <RouterLink class=\"navbar-brand\" to=\"/\">Catálogo</RouterLink>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" to=\"/\">Inicio</RouterLink>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"adminDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n              Administrar\n            </a>\n            <ul class=\"dropdown-menu\" aria-labelledby=\"adminDropdown\">\n              <li><RouterLink class=\"dropdown-item\" to=\"/productos\">Productos</RouterLink></li>\n              <li><RouterLink class=\"dropdown-item\" to=\"/categorias\">Categorías</RouterLink></li>\n              <li><RouterLink class=\"dropdown-item\" to=\"/presentaciones\">Presentaciones</RouterLink></li>\n            </ul>\n          </li>\n        </ul>\n        <ul class=\"navbar-nav ms-auto\">\n          <li v-if=\"username\" class=\"nav-item me-2 d-flex align-items-center text-light\">\n            Hola, {{ username }}\n          </li>\n          <li class=\"nav-item\">\n            <button class=\"btn btn-outline-light btn-sm\" :disabled=\"loading\" @click=\"logout\">Cerrar sesión</button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport http from \"@/api/http\";\nexport default {\n  name: \"AppNavbar\",\n  data(){ return { loading:false }; },\n  computed: {\n    username(){ return sessionStorage.getItem(\"username\") || \"\"; }\n  },\n  methods: {\n    async logout(){\n      this.loading = true;\n      try{ await http.post(\"/auth/logout\"); } catch(e){}\n      finally{\n        sessionStorage.removeItem(\"access_token\");\n        sessionStorage.removeItem(\"username\");\n        this.loading = false;\n        this.$router.push(\"/login\");\n      }\n    }\n  }\n}\n</script>"],"mappings":";AAsCA,OAAOA,IAAG,MAAO,YAAY;AAC7B,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAE;IAAE,OAAO;MAAEC,OAAO,EAAC;IAAM,CAAC;EAAE,CAAC;EACnCC,QAAQ,EAAE;IACRC,QAAQA,CAAA,EAAE;MAAE,OAAOC,cAAc,CAACC,OAAO,CAAC,UAAU,KAAK,EAAE;IAAE;EAC/D,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,MAAMA,CAAA,EAAE;MACZ,IAAI,CAACN,OAAM,GAAI,IAAI;MACnB,IAAG;QAAE,MAAMH,IAAI,CAACU,IAAI,CAAC,cAAc,CAAC;MAAE,EAAE,OAAMC,CAAC,EAAC,CAAC,UAC1C;QACLL,cAAc,CAACM,UAAU,CAAC,cAAc,CAAC;QACzCN,cAAc,CAACM,UAAU,CAAC,UAAU,CAAC;QACrC,IAAI,CAACT,OAAM,GAAI,KAAK;QACpB,IAAI,CAACU,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;MAC7B;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
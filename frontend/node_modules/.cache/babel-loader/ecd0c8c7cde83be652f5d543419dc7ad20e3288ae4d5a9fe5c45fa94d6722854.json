{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport LoginView from \"@/views/LoginView.vue\";\nimport RegisterView from \"@/views/RegisterView.vue\";\nimport PublicHome from \"@/views/PublicHome.vue\";\nimport DashboardView from \"@/views/DashboardView.vue\";\nimport CategoriaView from \"@/views/CategoriaView.vue\";\nimport PresentacionView from \"@/views/PresentacionView.vue\";\nimport ProductoView from \"@/views/ProductoView.vue\";\nconst routes = [{\n  path: \"/home\",\n  component: PublicHome,\n  meta: {\n    public: true\n  }\n},\n// Home pública (sin sesión)\n{\n  path: \"/login\",\n  component: LoginView,\n  meta: {\n    public: true\n  }\n}, {\n  path: \"/register\",\n  component: RegisterView,\n  meta: {\n    public: true\n  }\n}, {\n  path: \"/\",\n  name: \"inicio\",\n  component: DashboardView\n},\n// Inicio con el mensaje\n{\n  path: \"/categorias\",\n  component: CategoriaView\n}, {\n  path: \"/presentaciones\",\n  component: PresentacionView\n}, {\n  path: \"/productos\",\n  component: ProductoView\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\n// Guard único\nrouter.beforeEach((to, from, next) => {\n  const token = sessionStorage.getItem(\"access_token\");\n  const isPublic = !!(to.meta && to.meta.public);\n  const free = [\"/login\", \"/register\"];\n  if (isPublic || free.includes(to.path)) return next();\n  if (!token) return next(\"/login\");\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","LoginView","RegisterView","PublicHome","DashboardView","CategoriaView","PresentacionView","ProductoView","routes","path","component","meta","public","name","router","history","beforeEach","to","from","next","token","sessionStorage","getItem","isPublic","free","includes"],"sources":["C:/Users/pedvi/Documents/catalogo-web/frontend/src/router.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\nimport LoginView from \"@/views/LoginView.vue\";\nimport RegisterView from \"@/views/RegisterView.vue\";\nimport PublicHome from \"@/views/PublicHome.vue\";\nimport DashboardView from \"@/views/DashboardView.vue\";\nimport CategoriaView from \"@/views/CategoriaView.vue\";\nimport PresentacionView from \"@/views/PresentacionView.vue\";\nimport ProductoView from \"@/views/ProductoView.vue\";\n\nconst routes = [\n  { path: \"/home\", component: PublicHome, meta: { public: true } }, // Home pública (sin sesión)\n  { path: \"/login\", component: LoginView, meta: { public: true } },\n  { path: \"/register\", component: RegisterView, meta: { public: true } },\n\n  { path: \"/\", name: \"inicio\", component: DashboardView },          // Inicio con el mensaje\n  { path: \"/categorias\", component: CategoriaView },\n  { path: \"/presentaciones\", component: PresentacionView },\n  { path: \"/productos\", component: ProductoView },\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\n// Guard único\nrouter.beforeEach((to, from, next) => {\n  const token = sessionStorage.getItem(\"access_token\");\n  const isPublic = !!(to.meta && to.meta.public);\n  const free = [\"/login\", \"/register\"];\n  if (isPublic || free.includes(to.path)) return next();\n  if (!token) return next(\"/login\");\n  next();\n});\n\nexport default router;\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,UAAU,MAAM,wBAAwB;AAC/C,OAAOC,aAAa,MAAM,2BAA2B;AACrD,OAAOC,aAAa,MAAM,2BAA2B;AACrD,OAAOC,gBAAgB,MAAM,8BAA8B;AAC3D,OAAOC,YAAY,MAAM,0BAA0B;AAEnD,MAAMC,MAAM,GAAG,CACb;EAAEC,IAAI,EAAE,OAAO;EAAEC,SAAS,EAAEP,UAAU;EAAEQ,IAAI,EAAE;IAAEC,MAAM,EAAE;EAAK;AAAE,CAAC;AAAE;AAClE;EAAEH,IAAI,EAAE,QAAQ;EAAEC,SAAS,EAAET,SAAS;EAAEU,IAAI,EAAE;IAAEC,MAAM,EAAE;EAAK;AAAE,CAAC,EAChE;EAAEH,IAAI,EAAE,WAAW;EAAEC,SAAS,EAAER,YAAY;EAAES,IAAI,EAAE;IAAEC,MAAM,EAAE;EAAK;AAAE,CAAC,EAEtE;EAAEH,IAAI,EAAE,GAAG;EAAEI,IAAI,EAAE,QAAQ;EAAEH,SAAS,EAAEN;AAAc,CAAC;AAAW;AAClE;EAAEK,IAAI,EAAE,aAAa;EAAEC,SAAS,EAAEL;AAAc,CAAC,EACjD;EAAEI,IAAI,EAAE,iBAAiB;EAAEC,SAAS,EAAEJ;AAAiB,CAAC,EACxD;EAAEG,IAAI,EAAE,YAAY;EAAEC,SAAS,EAAEH;AAAa,CAAC,CAChD;AAED,MAAMO,MAAM,GAAGf,YAAY,CAAC;EAC1BgB,OAAO,EAAEf,gBAAgB,CAAC,CAAC;EAC3BQ;AACF,CAAC,CAAC;;AAEF;AACAM,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC;EACpD,MAAMC,QAAQ,GAAG,CAAC,EAAEN,EAAE,CAACN,IAAI,IAAIM,EAAE,CAACN,IAAI,CAACC,MAAM,CAAC;EAC9C,MAAMY,IAAI,GAAG,CAAC,QAAQ,EAAE,WAAW,CAAC;EACpC,IAAID,QAAQ,IAAIC,IAAI,CAACC,QAAQ,CAACR,EAAE,CAACR,IAAI,CAAC,EAAE,OAAOU,IAAI,CAAC,CAAC;EACrD,IAAI,CAACC,KAAK,EAAE,OAAOD,IAAI,CAAC,QAAQ,CAAC;EACjCA,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AAEF,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}